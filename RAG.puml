@startuml RAG
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
Person(user, "User", " ", $sprite="person")
Container(embedding_model, "Embedding model", "OpenAI Embedding Model", "", $sprite="openai-icon") #LightGreen
ContainerDb(faiss, "FAISS", "Vector Database", "", $sprite="facebook") #Grey 
Container(data, "Proprietory data", "pdf,txt,pptx, docx, html", "", $sprite="&file,scale=5.0,color=White") #Grey
Container(llm, "LLM", "OpenAI GPT models", "", $sprite="openai-icon") #LightGreen

LAYOUT_WITH_LEGEND()
Rel_R(user, embedding_model, "Question")
Rel_D(data, embedding_model, "")
Rel_R(embedding_model, faiss , "Store/Search")

System_Boundary(prompt, "Prompt") {
   Container(_prompt, "Original Question + Context","", "", $sprite="") 
}

Rel_D(user, prompt,"")
Rel_D(faiss, prompt,"")
Rel_D(prompt, llm , "")
Rel_U(llm, user, "Answer")
sprite $openai-icon [51x52/16] {
0000000000000000000BFFFFFF2000000000000000000000000
00000000000000000FFFFFFFFFFFF0000000000000000000000
000000000000000FFFFFFFFFFFFFFF300000000000000000000
00000000000000FFFFFFFA36FFFFFFFC0000000000000000000
0000000000000FFFFF400000000FFFFFFFFFFF8000000000000
000000000000FFFFF000000000000FFFFFFFFFFFF0000000000
000000000004FFFF000000000005FFFFFFFFFFFFFFF00000000
00000000000FFFF00000000000FFFFFFFF86EFFFFFFF0000000
00000000002FFF0000000000FFFFFFF000000006FFFFF000000
000000000FFFFF00000000CFFFFFF000000000000FFFFF00000
0000005FFFFFF70000002FFFFFF300000000000000FFFF30000
00000FFFFFFFF000000FFFFFFD00000000000000000FFFF0000
0000FFFFFFFFF00000FFFFFF000000000A0000000000FFF1000
000FFFFF10FFF00005FFFF000000000FFFFA00000000FFFF000
00FFFFF000FFF00005FF700000000DFFFFFFF10000008FFF000
00FFFF0000FFF00005FF00000003FFFFFFFFFFF000000FFF000
0FFFF00000FFF00005FF000000FFFFC000FFFFFFE0000FFF000
0FFF600000FFF00005FF0000FFFFF0000002FFFFFF300FFF000
9FFF000000FFF00005FF009FFFFF900000000CFFFFFF0FFF000
FFFF000000FFF00005FF1FFFFAFFFF100000000FFFFFFFFF000
FFF8000000FFF00005FFFFFE000EFFFF000000000FFFFFFF000
FFF3000000FFF00005FFFF0000000FFFFE000000005FFFFF000
FFF1000000FFF00005FF10000000000FFFF400000000FFFFD00
FFFD000000FFF00005FF00000000000FFFFFF00000000FFFF00
FFFF000000FFF00005FF00000000000FF4FFFFF0000000FFFF0
7FFF000000FFF80005FF00000000000FF400FFFF9000009FFF0
0FFFD000006FFFF005FF00000000000FF40004FFF000000FFF7
0FFFF0000000FFFFF5FF00000000000FF40000FFF100000FFFF
00FFFF00000000FFFFFF00000000000FF40000FFF100000AFFF
00BFFFF000000001FFFF50000000004FF40000FFF1000001FFF
000FFFFFA00000000BFFFF0000000FFFF40000FFF1000001FFF
000FFFFFFF000000000FFFFF000FFFFFF40000FFF100000AFFF
000FFFFFFFFF000000000FFFFFFFFF0FF40000FFF100000FFFF
000FFF0FFFFFFE000000004FFFFF500FF40000FFF100000FFF6
000FFF001FFFFFF5000000FFFFE0000FF40000FFF100007FFF0
000FFF0000BFFFFFF000FFFFF000000FF40000FFF10000FFFF0
000FFF000000FFFFFFFFFFF00000000FF40000FFF1000FFFF00
000FFF80000000FFFFFFF800000000BFF40000FFF100FFFFF00
000FFFF000000004FFFF000000002FFFF40000FFF11FFFFF000
0001FFF00000000003000000000FFFFFF00000FFFFFFFFF0000
0000FFFF00000000000000000FFFFFFF000000FFFFFFFF00000
00002FFFF000000000000008FFFFFF0000000BFFFFFF0000000
00000FFFFF000000000000FFFFFF800000000FFFFE000000000
000000FFFFFB00000000FFFFFFF0000000002FFF10000000000
0000000FFFFFFFFDFFFFFFFFF00000000000FFFF00000000000
00000000EFFFFFFFFFFFFFF200000000000FFFF200000000000
0000000000FFFFFFFFFFFF100000000000FFFFF000000000000
0000000000002FFFFFFFFFFF00000000AFFFFF0000000000000
0000000000000000000BFFFFFFF88FFFFFFFF00000000000000
000000000000000000003FFFFFFFFFFFFFFF000000000000000
0000000000000000000000EFFFFFFFFFFF00000000000000000
0000000000000000000000000FFFFFF40000000000000000000
}
sprite $facebook [51x51/16] {
0BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB0
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBAAABBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBA0000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBBA0000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBBB00000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBB400000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBB000000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBBA000000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB3000000006BBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB100000004BBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000ABBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBA7777770000000077777777BBBBBBBB
BBBBBBBBBBBBBBBBBBBB80000000000000000000000BBBBBBBB
BBBBBBBBBBBBBBBBBBBB80000000000000000000003BBBBBBBB
BBBBBBBBBBBBBBBBBBBB80000000000000000000009BBBBBBBB
BBBBBBBBBBBBBBBBBBBB8000000000000000000000ABBBBBBBB
BBBBBBBBBBBBBBBBBBBB8000000000000000000000BBBBBBBBB
BBBBBBBBBBBBBBBBBBBB8000000000000000000000BBBBBBBBB
BBBBBBBBBBBBBBBBBBBB8000000000000000000000BBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
BBBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBBB
0BBBBBBBBBBBBBBBBBBBBBBBBBB00000000BBBBBBBBBBBBBBB0
}
@enduml